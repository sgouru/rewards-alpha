/*
 * jQuery jPList Plugin 2.0
 * Copyright 2012 Miriam Zusin. All rights reserved.
 * To use this file you must to buy a licence at http://codecanyon.net/user/no81no/portfolio
 */
 (function(d){var g=function(a,c){a.drop_down.filter_dd.find("li span").each(function(){var a=d(this);a.attr("data-name")==c&&a.trigger("click")})},k=function(a,c){a.paging.pagingmid.find("span").each(function(){var a=d(this);a.text()==c&&a.trigger("click")})},j=function(a,c){for(var b="",f,q=a.sort.sort_name,r=a.paging.items_on_page,m=a.paging.cpage,h=a.sort.order,e=a.sort.type,l=0;l<c.length;l++)f=c[l],b+=f[a.data.attributes.HTML];a.box.html(b);a.options.cookies&&a.cookies.set_cookies();d.isFunction(a.options.redraw_callback)&&
a.options.redraw_callback(q,r,m,h,e)},c=function(a){a.view_data=a.filter.filter_data(a.data);a.view_data=a.filter.filter_dd_data(a.data,a.view_data);a.view_data=a.sort.sort_data(a.view_data);a.view_data=a.paging.set_paging(a.view_data);j(a,a.view_data);0>=a.view_data.length?(a.no_results_el.show(),a.box.hide()):(a.no_results_el.hide(),a.box.show())},h=function(a){a.filter.input_fields.keyup(function(){a.paging.cpage=0;c(a)});a.drop_down.update_paging_on_click(function(i){a.paging.items_on_page="all"==
i?a.paging.all_items_num:i;a.paging.cpage=0;c(a)});a.drop_down.update_sort_on_click(function(i,b,f){a.paging.cpage=0;a.sort.sort_name=i;a.sort.order=b;a.sort.type=f;c(a)});a.drop_down.update_filter_on_click(function(){a.paging.cpage=0;c(a)})},e=function(a,i){var b={view_data:[],no_results_el:""};b.options=d.extend({items_box:".list",item_path:".list-item",redraw_callback:"",css_prefix:"jplist",no_results:".jplist-no-results",cookies:!0,expiration:-1,pagingbox:".buttons",pageinfo:".info",paging_length:7,
show_one_page:!1,items_on_page:5,prev_arrow:"&lt;",next_arrow:"&gt;",first_arrow:"&lt;&lt;",last_arrow:"&gt;&gt;",filter:{},filter_path:".filter",sort:{},sort_order:"asc",sort_type:"text",sort_name:"",sort_dd_path:".sort-drop-down",paging_dd_path:".page-by",filter_dd_path:".filter-drop-down"},a);b.container=i;b.box=b.container.find(b.options.items_box);b.items=b.container.find(b.options.item_path);b.helper=new d.fn.jplist.helper;b.data=new d.fn.jplist.data(b.options,b.helper,b.container,b.items);
b.sort=new d.fn.jplist.sort(b.options,b.helper,b.data);b.paging=new d.fn.jplist.paging(b.options,b.helper,b.container,b.items,function(a){j(b,a)});b.filter=new d.fn.jplist.filter(b.options,b.helper,b.container);b.drop_down=new d.fn.jplist.dropdown(b.options,b.helper,b.container,b.paging,b.sort);b.cookies=new d.fn.jplist.cookies(b.options,b.helper,b.data,b.filter,b.sort,b.paging,b.drop_down);b.no_results_el=d(b.options.no_results);b.container.addClass(b.options.css_prefix);h(b);b.options.cookies&&
b.cookies.get_cookies();b.drop_down.restore_dd();c(b);return d.extend(this,b)};e.prototype.api_sort=function(a,i,b){this.sort.order=i;this.sort.sort_name=a;this.sort.type=b;c(this);this.drop_down.restore_dd()};e.prototype.api_pages_per_page=function(a){this.paging.items_on_page=a;c(this);this.drop_down.restore_dd()};e.prototype.api_search=function(a,i){for(var b,f=0;f<this.filter.input_fields.length;f++)b=this.filter.input_fields.eq(f),b.attr("data-name")==a&&(b.val(i),c(this))};e.prototype.jump_to_page=
function(a){k(this,a)};e.prototype.drop_down_filter=function(a){g(this,a)};d.fn.jplist=function(a){return this.each(function(){var c=new e(a,d(this));h(c);d(this).data("jplist",c)})}})(jQuery);(function(d){var g=function(d,c,h){var h=escape(h),e=new Date;-1==d.options.expiration?document.cookie=c+"="+h+";path=/;":(d=parseInt(d.options.expiration,10),e.setDate(e.getDate()+d),document.cookie=c+"="+h+";path=/; expires="+e.toUTCString())},k=function(g,c,h,e,a,i,b){var f={};f.options=g;f.helper=c;f.data=h;f.filter=e;f.sort=a;f.paging=i;f.drop_down=b;return d.extend(this,f)};k.prototype.set_cookie=function(d,c){g(this,d,c)};k.prototype.get_cookie=function(d){var c;a:{var h,e,a,i;i=document.cookie.split(";");
for(h=0;h<i.length;h++)if(e=i[h].substr(0,i[h].indexOf("=")),a=i[h].substr(i[h].indexOf("=")+1),e=e.replace(/^\s+|\s+$/g,""),e==d){c=unescape(a);break a}}return c};k.prototype.set_cookies=function(){var d=this.paging.items_on_page,c=this.paging.cpage,h=this.sort.order,e=this.sort.type;g(this,"s",this.sort.sort_name);g(this,"iop",d);g(this,"c",c);g(this,"o",h);g(this,"sn",e);g(this,"id",this.data.url)};k.prototype.get_cookies=function(){var d=this.get_cookie("s"),c=this.get_cookie("iop"),h=this.get_cookie("c"),
e=this.get_cookie("o"),a=this.get_cookie("sn");if(this.get_cookie("id")!=this.data.url)this.paging.cpage=0;else if(void 0!=h&&""!=h)this.paging.cpage=h;if(void 0!=c&&""!=c)this.paging.items_on_page=c;if(this.sort.sort_name_exists(d)){if(void 0!=d&&""!=d)this.sort.sort_name=d;if(void 0!=e&&""!=e)this.sort.order=e;if(void 0!=a&&""!=a)this.sort.type=a}};d.fn.jplist.cookies=function(d,c,h,e,a,i,b){return new k(d,c,h,e,a,i,b)}})(jQuery);(function(d){d.fn.jplist.data=function(d,k,j,c){var h={data:[],attributes:{ID:0,HTML:1,SORT_ARR:2,FILTER:3},url:document.URL,sort_indexes:[],filter_indexes:[]};h.options=d;h.helper=k;h.box=j;h.items=c;var d=0,e;for(e in h.options.sort)h.sort_indexes["sort-"+e]=d,d++;e=0;for(var a in h.options.filter)h.filter_indexes["filter-"+a]=e,e++;for(j=0;j<h.items.length;j++){a=h.items.eq(j);e=h.helper.get_outer_html(a);var d=[],k=[],i;for(i in h.options.sort)d.push([a.find(h.options.sort[i]).text()]);for(var b in h.options.filter)k.push([a.find(h.options.filter[b]).text()]);
h.data.push([j,e,d,k])}return h}})(jQuery);(function(d){var g=function(a){d(document).click(function(){a.dd_ul_list.hide()})},k=function(a){a.dd_panel_list.bind("click",function(f){var b,c=0;f.stopPropagation();b=d(this).parent().find("ul");b.is(":visible")?a.dd_ul_list.hide(0):a.dd_ul_list.hide(0,function(){c++;c>=a.dd_ul_list.length&&b.show()})})},j=function(a){a.parent("ul").prev(".panel").html(a.text())},c=function(a){for(var f,b=0;b<a.sort_dd.length;b++)f=a.sort_dd.eq(b),f=f.find("ul li"),f.click(function(){j(d(this))});for(b=0;b<a.paging_dd.length;b++)f=
a.paging_dd.eq(b),f=f.find("ul li"),f.click(function(){j(d(this))});for(b=0;b<a.filter_dd.length;b++)f=a.filter_dd.eq(b),f=f.find("ul li"),f.click(function(){var a=d(this),f=a.parent("ul").prev(".panel"),a=a.find("span");f.html(a.text());f.attr("data-name",a.attr("data-name"))})},h=function(a,f){var b,c;c=f.find("li span:eq(0)");b=c.text();c=c.attr("data-name");""!=c?f.prepend("<div class='panel' data-name='"+c+"'>"+b+"</div>"):f.prepend("<div class='panel'>"+b+"</div>")},e=function(a,f){a.paging_dd.find("li").click(function(){var a=
d(this).find("span").attr("data-number");d.isFunction(f)&&f(a)})},a=function(a,f){var b,c,h;a.sort_dd.find("li").click(function(){b=d(this).find("span").attr("data-type");c=d(this).find("span").attr("data-sort");h=d(this).find("span").attr("data-order");d.isFunction(f)&&f(c,h,b)})},i=function(a,f){a.filter_dd.find("li").click(function(){var a=d(this).find("span").attr("data-name");d.isFunction(f)&&f(a)})},b=function(a,f){var b=!0;a.paging_dd.find("li span").each(function(){d(this).attr("data-number")==
f&&(b=!1)});return b},f=function(a,f,b,c,i){var e={dd_ul_list:"",dd_panel_list:"",sort_dd_panel:"",paging_dd_panel:"",filter_dd_panel:""};e.options=a;e.helper=f;e.box=b;e.paging=c;e.sort=i;e.dd_list=e.box.find(".drop-down");e.sort_dd=e.box.find(e.options.sort_dd_path);e.paging_dd=e.box.find(e.options.paging_dd_path);e.filter_dd=e.box.find(e.options.filter_dd_path);for(f=0;f<e.sort_dd.length;f++)a=e.sort_dd.eq(f),h(e,a);for(f=0;f<e.paging_dd.length;f++)a=e.paging_dd.eq(f),h(e,a);for(f=0;f<e.filter_dd.length;f++)a=
e.filter_dd.eq(f),h(e,a);e.dd_ul_list=e.dd_list.find("ul");e.dd_panel_list=e.dd_list.find(".panel");e.sort_dd_panel=e.sort_dd.find(".panel");e.paging_dd_panel=e.paging_dd.find(".panel");e.filter_dd_panel=e.filter_dd.find(".panel");return d.extend(this,e)};f.prototype.restore_dd=function(){var a,f,b,c;c=this.paging.items_on_page;for(var e=this.sort.sort_name,d=this.sort.order,h=this.sort.type,i=0;i<this.paging_dd.length;i++)f=this.paging_dd.eq(i),a=f.find("span[data-number='"+c+"']"),b=f.find(".panel"),
0>=a.length&&(a=f.find("span[data-number='all']")),b.html(a.text());for(i=0;i<this.sort_dd.length;i++){f=this.sort_dd.eq(i);c=f.find("ul li span");b=f.find(".panel");for(var g=0;g<c.length;g++)a=c.eq(g),(f=a.attr("data-sort")==e&&a.attr("data-order")==d&&a.attr("data-type")==h)&&b.html(a.text())}};f.prototype.update_paging_on_click=function(a){e(this,a)};f.prototype.update_sort_on_click=function(f){a(this,f)};f.prototype.update_filter_on_click=function(a){i(this,a)};f.prototype.if_paging_all=function(a){return b(this,
a)};d.fn.jplist.dropdown=function(a,b,e,d,i){a=new f(a,b,e,d,i);k(a);g(a);c(a);return a}})(jQuery);(function(d){var g=function(a){a=new String(a);a=a.replace(/[^a-zA-Z0-9]+/g,"");return a.toLowerCase()},k=function(a){for(var c=!0,b=0;b<a.length;b++)c&=a[b];return c},j=function(a,c){var b,f,e,h;if(!a.support_placeholder)for(var g=0;g<c.length;g++)f=c.eq(g),h=f.attr("placeholder"),f.wrap("<div class='placeholder-parent'></div>"),b=f.parent("div"),b.append("<div class='placeholder'></div>"),e=b.children(".placeholder"),e.text(h),b.click(function(){d(this).find(".placeholder").hide();f.focus()})},
c=function(a,c){for(var b=[],f,e,h,m=c.data,j,o,l,p,n=0;n<m.length;n++)e=m[n],f=e[c.attributes.FILTER],h=[],a.input_fields.each(function(){j=g(d(this).val());o=d(this).attr("data-name");l=c.filter_indexes["filter-"+o];p=f[l];-1!=g(p[0]).indexOf(j)||""==d.trim(j)?h.push(!0):h.push(!1)}),k(h)&&b.push(e);return b},h=function(a,c,b){var f=b;0<a.filter_dd_pathes.length?a.filter_dd_pathes.each(function(){var a=f,b,e,h,g,j=[];b=d(this).find(".panel").attr("data-name");for(var k=0;k<a.length;k++)e=a[k],h=
e[c.attributes.FILTER],g=c.filter_indexes["filter-"+b],h=h[g],(""!=h||"default"==b)&&j.push(e);f=j}):f=b;return f},e=function(a,c,b){var f={support_placeholder:"placeholder"in document.createElement("input")};f.options=a;f.helper=c;f.box=b;f.filter_pathes=b.find(a.filter_path);f.filter_dd_pathes=b.find(a.filter_dd_path);f.input_fields=f.filter_pathes.find("input");j(f,f.input_fields);return d.extend(this,f)};e.prototype.filter_data=function(a){return c(this,a)};e.prototype.filter_dd_data=function(a,
c){return h(this,a,c)};d.fn.jplist.filter=function(a,c,b){return new e(a,c,b)}})(jQuery);(function(d){var g={get_outer_html:function(d){for(var g="",c=d[0].attributes,h=d.html(),d=d[0].tagName.toString().toLowerCase(),g=g+("<"+d+" "),e=0;e<c.length;e++)null!=c[e].nodeValue&&""!=c[e].nodeValue&&(g+=c[e].nodeName+"=",g+="'"+c[e].nodeValue+"' ");return g+">"+h+("</"+d+">")},log:function(d){window.console&&"undefined"!=typeof console.log&&console.log(d)}};d.fn.jplist.helper=function(){return g}})(jQuery);(function(d){var g=function(a,b){return Math.ceil(a.all_items_num/b)},k=function(a){return a.cpage>=g(a,a.items_on_page)-1?g(a,a.items_on_page)-1:eval(a.cpage)+1},j=function(a){var b,c,e="";if(0<=a.cpage&&a.cpage<g(a,a.items_on_page)){c=Math.floor(a.cpage/a.options.paging_length);b=a.options.paging_length*c;c=a.options.paging_length*(c+1);c>g(a,a.items_on_page)&&(c=g(a,a.items_on_page));for(var e=e+"<div class='pagesbox'>",d=b;d<c;d++)e+="<span",d==a.cpage&&(e+=" class='current'"),b=d+1,e+=">"+b+
"</span> ";a.pagingmid.html(e+"</div>")}},c=function(a){0==a.cpage?a.pagingprev.addClass("hidden"):a.pagingprev.removeClass("hidden");a.cpage==g(a,a.items_on_page)-1?a.pagingnext.addClass("hidden"):a.pagingnext.removeClass("hidden")},h=function(a){1>=g(a,a.items_on_page)?a.options.show_one_page||a.pagingbox.addClass("hidden"):a.pagingbox.removeClass("hidden")},e=function(a,b,c,e){for(var d,h,i=eval(a.cpage)+1,j=0;j<a.pageinfo.length;j++)d=a.pageinfo.eq(j),h=d.attr("data-type"),"page"==h?d.html("Page "+
i+" of "+eval(g(a,a.items_on_page))):d.html(eval(b)+1+" - "+eval(c)+" of "+eval(e))},a=function(a,b){var i=a.cpage*a.items_on_page,g=i+eval(a.items_on_page),k=b.length;a.pagingView=b;if(g>b.length)g=b.length;a.all_items_num=k;b=b.slice(i,g);e(a,i,g,k);j(a);c(a);h(a);d.isFunction(a.callback)&&a.callback(b);return b},i=function(b){b.first.click(function(){b.cpage=0;a(b,b.pagingView)});b.prev.click(function(){b.cpage=0>=b.cpage?0:b.cpage-1;a(b,b.pagingView)});b.next.click(function(){b.cpage=k(b);a(b,
b.pagingView)});b.last.click(function(){b.cpage=g(b,b.items_on_page)-1;a(b,b.pagingView)});b.pagingmid.find("span").live("click",function(){var c=d(this).text()-1;b.cpage=c;a(b,b.pagingView)})},b=function(a,b,c,e,h){var g={cpage:0,pagingView:[],pagingprev:"",pagingmid:"",pagingnext:"",first:"",prev:"",next:"",last:""};g.options=a;g.helper=b;g.box=c;g.items=e;g.callback=h;g.all_items_num=e.length;g.pageinfo=c.find(a.pageinfo);g.pagingbox=c.find(a.pagingbox);g.items_on_page=a.items_on_page;g.pagingbox.html("<div class='pagingprev'></div><div class='pagingmid'></div><div class='pagingnext'></div>");
g.pagingprev=g.pagingbox.find(".pagingprev");g.pagingmid=g.pagingbox.find(".pagingmid");g.pagingnext=g.pagingbox.find(".pagingnext");g.pagingprev.html("<span class='first'>"+g.options.first_arrow+"</span><span class='prev'>"+g.options.prev_arrow+"</span>");g.pagingnext.html("<span class='next'>"+g.options.next_arrow+"</span><span class='last'>"+g.options.last_arrow+"</span>");g.first=g.pagingprev.find(".first");g.prev=g.pagingprev.find(".prev");g.next=g.pagingnext.find(".next");g.last=g.pagingnext.find(".last");
i(g);return d.extend(this,g)};b.prototype.set_paging=function(b){return a(this,b)};d.fn.jplist.paging=function(a,c,e,d,h){a=new b(a,c,e,d,h);i(a);return a}})(jQuery);(function(d){var g=function(c,d,e){var a="";return a=d[c.data.attributes.SORT_ARR][c.data.sort_indexes["sort-"+e]]},k=function(c,d){if("default"==c.sort_name)d.sort(function(e,a){var d=e[c.data.attributes.ID],b=a[c.data.attributes.ID];if("asc"==c.order){if(""==d)return 1;if(""==b)return-1}else{if(""==b)return 1;if(""==d)return-1}return d-b});else switch(c.type){case "number":d.sort(function(e,a){var d=g(c,e,c.sort_name),b=g(c,a,c.sort_name),d=d.toString().replace(/[^0-9]+/g,""),b=b.toString().replace(/[^0-9]+/g,
"");if("asc"==c.order){if(""==d)return 1;if(""==b)return-1}else{if(""==b)return 1;if(""==d)return-1}return d-b});break;case "date":d.sort(function(e,a){var d=g(c,e,c.sort_name),b=g(c,a,c.sort_name),d=new Date(Date.parse(d)),b=new Date(Date.parse(b));return d>b?1:-1});break;default:d.sort(function(e,a){var d=g(c,e,c.sort_name),b=g(c,a,c.sort_name);return void 0==d||void 0==b?d>b?1:-1:d.toString().toLowerCase()>b.toString().toLowerCase()?1:-1})}"desc"==c.order&&d.reverse(function(e,a){var d=g(c,e,c.sort_name),
b=g(c,a,c.sort_name);return void 0==d||void 0==b?d>b?1:-1:d.toString().toLowerCase()>b.toString().toLowerCase()?1:-1});return d},j=function(c,g,e){var a={};a.options=c;a.helper=g;a.data=e;a.order=c.sort_order;a.sort_name=c.sort_name;a.type=c.sort_type;return d.extend(this,a)};j.prototype.sort_name_exists=function(c){var d=!1;if("default"==c)d=!0;else if(void 0!=c&&""!=c)for(var e in this.options.sort)c==e&&(d=!0);return d};j.prototype.sort_data=function(c){return k(this,c)};d.fn.jplist.sort=function(c,
d,e){return new j(c,d,e)}})(jQuery);
